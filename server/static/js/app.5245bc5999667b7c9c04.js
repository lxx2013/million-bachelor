webpackJsonp([1],{"+cZt":function(t,e){},AjSl:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("lRwf"),s=i.n(n),a=i("ZLEe"),r=i.n(a),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"waterback"},[i("div",{staticClass:"waterback-back",style:"height:"+t.percent+"%"},[i("div",{staticClass:"water",style:"background-color: "+t.color}),t._v(" "),i("div",{staticClass:"water-shadow"}),t._v(" "),i("svg",{attrs:{viewBox:"0,0,200,100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{staticStyle:{opacity:"0.4"}},[i("path",{attrs:{d:"M0 50 Q 50 0 100 50 Q 150 100 200 50  Q 250 0 300 50  Q 350 100 400 50  L400 120 0 120 Z",fill:t.color}}),t._v(" "),i("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"translate",from:"0 0",to:"-200 0",dur:"1.2s",repeatCount:"indefinite"}})],1),t._v(" "),i("g",{staticStyle:{opacity:"0.4"}},[i("path",{attrs:{d:"M0 50 Q 50 0 100 50 Q 150 100 200 50  Q 250 0 300 50  Q 350 100 400 50  L400 120 0 120 Z",fill:t.color}}),t._v(" "),i("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"translate",from:"0 0",to:"-200 0",dur:"1.3s",repeatCount:"indefinite"}})],1),t._v(" "),i("g",[i("path",{attrs:{d:"M0 50 Q 50 0 100 50 Q 150 100 200 50  Q 250 0 300 50  Q 350 100 400 50  L400 120 0 120 Z",fill:t.color}}),t._v(" "),i("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"translate",from:"0 0",to:"-200 0",dur:"1s",repeatCount:"indefinite"}})],1)])]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var c=i("C7Lr")({name:"water-back",props:["percent","color"]},o,!1,function(t){i("xAem")},"data-v-71ae80a6",null).exports,u={name:"Questions",props:{quiz:{type:Object,default:{}}},data:function(){return{}},methods:{choose:function(t){this.$emit("choose",t)}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"questions"},[i("v-card",[i("v-img",{staticClass:"white--text",attrs:{height:"100px",src:"https://cdn.vuetifyjs.com/images/cards/docks.jpg"}}),t._v(" "),i("v-card-title",[i("div",{staticStyle:{color:"grey"}},[t._v("第"+t._s(t.quiz.Index>=0?t.quiz.Index+1:"")+" / "+t._s(t.quiz.Total)+" 题")]),t._v(" "),i("div",{staticClass:"questions-title",domProps:{innerHTML:t._s(t.quiz.question)}})])],1),t._v(" "),t._l(t.quiz.options,function(e,n){return i("div",{key:n,staticClass:"options"},[i("v-btn",{staticStyle:{width:"80%"},attrs:{color:"blue"},domProps:{innerHTML:t._s(e)},on:{click:function(e){t.choose(n)}}}),t._v(" "),i("span",[t._v(t._s(n==t.quiz.choiceIndex?"已选择":""))])],1)})],2)},staticRenderFns:[]};var d=i("C7Lr")(u,l,!1,function(t){i("dj1S")},"data-v-f03eb926",null).exports,p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"waiting"},[e("span",[this._v("请等待发题...")])])}]};var v=i("C7Lr")({name:"Wating"},p,!1,function(t){i("AjSl")},"data-v-acd45c40",null).exports,f=i("PXp3"),h="";h="https://k-on.live";var m=i.n(f).a.connect(h),_={name:"App",components:{WaterBack:c,Questions:d,Waiting:v},data:function(){return{quiz:{},water:20,isWaiting:!0,timer:{}}},methods:{choose:function(t){this.quiz.isChoosed||(m.emit("client choosed",{quizIndex:this.quiz.Index,choiceIndex:t}),this.quiz.isChoosed=1,Vue.set(this.quiz,"choiceIndex",t),clearInterval(this.timer))},reset:function(){var t=this;this.isWaiting=!0;var e=.08;clearInterval(this.timer),this.timer=setInterval(function(){e+=.02,t.water=20+5*Math.sin(e)},33)}},computed:{},mounted:function(){var t=this;this.reset(),m.emit("client connected","Setsuna"),m.on("server patchQuestion",function(e){if(console.log(t),Vue.set(t,"quiz",e),r()(e).length>0){t.isWaiting=!1,t.water=10;var i=e.limitSeconds||15;clearInterval(t.timer),t.timer=setInterval(function(){t.water+=100/(1e3/33*i),t.water>=110&&clearInterval(t.timer)},33)}else t.reset()})}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Questions",{attrs:{quiz:this.quiz},on:{choose:this.choose}}),this._v(" "),e("water-back",{staticClass:"water-back",attrs:{percent:this.water,color:"#1787ff"}}),this._v(" "),this.isWaiting?e("Waiting",{attrs:{"keep-alive":""}}):this._e()],1)},staticRenderFns:[]};var g=i("C7Lr")(_,w,!1,function(t){i("+cZt")},null,null).exports,q=i("qP68"),x=i.n(q);s.a.config.productionTip=!1,s.a.use(x.a),new s.a({el:"#app",components:{App:g},template:"<App/>"})},PXp3:function(t,e){t.exports=io},dj1S:function(t,e){},lRwf:function(t,e){t.exports=Vue},qP68:function(t,e){t.exports=Vuetify},xAem:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5245bc5999667b7c9c04.js.map
